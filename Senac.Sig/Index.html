<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>

    <link href="../Content/bootstrap.css" rel="stylesheet">
    <link href="../Content/bootstrap-theme.css" rel="stylesheet">
    <link href="../Content/app.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.7.0/dist/Chart.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../Scripts/Chart.PieceLabel.min.js"></script>
    <script src="../Scripts/chartjs-plugin-datalabels.min.js"></script>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <img src="../images/banner_senac.png" alt="Banner Senac"/>
            </div>
        </div>            
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2>Notícias - Sistema integrado de Gestão - SIG</h2>
                <hr/>
                <div class="row">
                    <div class="col-md-12">
                        <div id="noticiasDiv" class="list-group">
                            
                        </div>                        
                    </div>
                    <div class="col-md-6"></div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h2>Gráficos de acompanhamento de projetos</h2>
                <hr/>
                <div class="row">
                    <div class="col-md-6">
                        <canvas id="myChart" width="auto" height="100"></canvas>
                    </div>
                    <div class="col-md-6"></div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h2>Principais tarefas</h2>
                <hr/>
                <div class="row">
                    <div class="col-md-12">
                        <table id="projetosTable" class="table">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome do item</th>
                                <th>% Concluido</th>                                        
                                <th>Status do item</th>
                                <th>Atribuido a</th>
                                <th>Data de início</th>
                                <th>Data de conclusão</th>
                            </tr>                                    
                            </thead>
                            <tbody>
                            
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
            
        <div class="row">
            <div class="col-md-12">
                <h2>Documentos</h2>
                <div class="row">
                    <div class="col-md-12">

                        <table id="documentosTable" class="table">
                            <thead>
                            <tr>
                                <th>Nome</th>
                                <th></th>
                            </tr>                                    
                            </thead>
                            <tbody>
                            </tbody>
                        </table>                            

                    </div>
                </div>
            </div>
        </div>            

    </div>
    <script>

        Chart.helpers.merge(Chart.defaults.global, {
            aspectRatio: 4/3,
            tooltips: false,
            layout: {
                padding: {
                    top: 32,
                    right: 24,
                    bottom: 32,
                    left: 0
                }
            },
            elements: {
                line: {
                    fill: false
                }
            },
            plugins: {
                legend: false,
                title: false
            }
        });


        var barData = {
            labels: ['Previsto 2018', 'Janeiro', 'Fevereiro'],
            datasets: [{
                label: 'Total',
                backgroundColor: 'rgb(51, 153, 255)',
                data: [10.551, 217, 252],
                datalabels: {
                    align: 'end',
                    anchor: 'start'
                }
            }, {
                label: 'DN (60%)',
                backgroundColor: 'rgb(255, 190, 0)',
                    data: [0, 130, 151],
                datalabels: {
                    align: 'end',
                    anchor: 'start'
                }
            },
            {
                label: 'DRs (40%)',
                backgroundColor: 'rgb(255, 120, 0)',
                data: [0, 818, 23, 101.037],
                datalabels: {
                    align: 'end',
                    anchor: 'start'
                }
            }]
        };

        var ctx = document.getElementById("myChart");
        new Chart(ctx, {
            type: 'horizontalBar',
            data: barData,
            options: {
                plugins: {
                    datalabels: {
                        color: 'black',
                        display: function(context) {
                            return context.dataset.data[context.dataIndex] > 15;
                        },
                        font: {
                            weight: 'bold'
                        },
                        formatter: Math.round
                    }
                },
                scales: {
                    xAxes: [{
                        stacked: true
                    }],
                    yAxes: [{
                        stacked: true
                    }]
                }
            }
        });



        //var ctx = document.getElementById("myChart");
        //var myChart = new Chart(ctx, {
        //    type: 'line',
        //    data: {
        //        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
        //        datasets: [{
        //            label: '# of Votes',
        //            data: [12, 19, 3, 5, 2, 3],
        //            backgroundColor: [
        //                'rgba(246, 140, 31, 0.8)'
        //            ],
        //            borderColor: [
        //                'rgba(246, 140, 31, 0.4)',
        //                'rgba(246, 140, 31, 0.4)',
        //                'rgba(246, 140, 31, 0.4)',
        //                'rgba(246, 140, 31, 0.4)',
        //                'rgba(246, 140, 31, 0.4)',
        //                'rgba(246, 140, 31, 0.4)'
        //            ],
        //            borderWidth: 1
        //        }]
        //    },
        //    options: {
        //        scales: {
        //            yAxes: [{
        //                ticks: {
        //                    beginAtZero:true
        //                }
        //            }]
        //        }
        //    }
        //});
    </script>
</body>
</html>